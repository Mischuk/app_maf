(this.webpackJsonpapp_maf=this.webpackJsonpapp_maf||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(9),s=n.n(c),o=(n(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function r(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l,u,d=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))},f=n(3),b=(n(2),n(6)),j=n(8),v=(n(15),n(0)),h=function(e){var t=e.value,n=e.onChange,i=e.isDisabledDec,a=e.isDisabledInc,c=e.label,s=e.min,o=e.max,r=function(e){n(t+e)};return Object(v.jsxs)("div",{className:"InputNumeric",children:[c&&Object(v.jsx)("div",{className:"InputNumeric__label",children:c}),Object(v.jsxs)("div",{className:"InputNumeric__control",children:[Object(v.jsx)("button",{className:"InputNumeric__button is-down",onClick:function(){return r(-1)},disabled:t===s||i,children:"-"}),Object(v.jsx)("div",{className:"InputNumeric__input",children:t}),Object(v.jsx)("button",{className:"InputNumeric__button is-up",onClick:function(){return r(1)},disabled:t===o||a,children:"+"})]})]})};!function(e){e[e.Settings=0]="Settings",e[e.Roles=1]="Roles",e[e.Final=2]="Final"}(l||(l={})),function(e){e.Citizen="Citizen",e.Mafia="Mafia",e.Whore="Whote",e.Doctor="Doctor",e.Immortal="BESSMERTNYI",e.Comissar="KOMISAR",e.Judge="Judge"}(u||(u={}));n(17);var m={totalPlayers:6,citizens:5,mafias:1,activeRoles:[]},g=function(e){e.onSubmit;var t=Object(i.useState)(m),n=Object(f.a)(t,2),a=n[0],c=n[1],s=Object(i.useState)(!1),o=Object(f.a)(s,2),r=o[0],l=o[1],u=Object(i.useState)(!1),d=Object(f.a)(u,2),g=d[0],O=d[1],p=function(e,t){c((function(n){return Object(j.a)(Object(j.a)({},n),{},Object(b.a)({},e,t))}))};Object(i.useEffect)((function(){r&&(p("activeRoles",[]),p("citizens",a.totalPlayers-a.mafias))}),[a.mafias,a.totalPlayers,r]);return Object(v.jsxs)("div",{className:"Settings",children:[!g&&Object(v.jsxs)("div",{className:"Settings__wrapper",children:[Object(v.jsxs)("div",{className:"Settings__total",children:[Object(v.jsx)(h,{label:"TOTAL PLAYERS",value:a.totalPlayers,min:3,onChange:function(e){p("totalPlayers",e),p("citizens",e-1),p("mafias",1),p("activeRoles",[]),l(e<=4)}}),Object(v.jsx)("div",{className:"Settings__next",children:Object(v.jsx)("div",{className:"Settings__button-next",onClick:function(){return O(!0)},children:"NEXT"})})]}),Object(v.jsx)("div",{className:"Settings__description",children:Object(v.jsx)("span",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u043e\u043b\u0435\u0439"})})]}),g&&Object(v.jsx)("div",{className:"Settings__content",children:Object(v.jsxs)("div",{className:"Settings__row",children:[Object(v.jsx)("div",{children:Object(v.jsx)(h,{label:"Peace",value:a.citizens,min:0,onChange:function(e){var t=a.totalPlayers-e-a.activeRoles.length;p("citizens",e),p("mafias",t)},isDisabledInc:a.citizens+a.activeRoles.length>=a.totalPlayers-1,isDisabledDec:a.citizens+a.activeRoles.length<=a.mafias})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{children:Object(v.jsx)(h,{label:"\u043a\u043e\u043b-\u0432\u043e \u043c\u0430\u0444\u0438\u0439",value:a.mafias,min:1,isDisabledInc:a.mafias>=a.citizens+a.activeRoles.length||0===a.citizens,onChange:function(e){var t=a.totalPlayers-e-a.activeRoles.length;p("mafias",e),p("citizens",t)}})})]})})]})};n(18);var O=function(){var e=Object(i.useState)(l.Settings),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),s=Object(f.a)(c,2),o=(s[0],s[1]);return Object(i.useEffect)((function(){var e=document.documentElement;n===l.Roles?e.classList.add("is-fixed"):e.classList.remove("is-fixed")}),[n]),Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(g,{onSubmit:function(e){o(function(e){for(var t,n=e.length;0!==n;){t=Math.floor(Math.random()*n),n--;var i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}return e}(e)),a(l.Roles)}})})};s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(O,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/app_maf",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/app_maf","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):r(t,e)}))}}(),d()}},[[19,1,2]]]);
//# sourceMappingURL=main.68007db6.chunk.js.map